<html>
<head>
<script src="scripts/jquery-1.6.1.min.js" type="text/javascript"></script>
<script src="scripts/jquery.tmpl.js" type="text/javascript"></script>
<script src="scripts/knockout-1.2.1.js" type="text/javascript"></script>
</head>
<body>
<h3>Details</h3>
<p>Full Name: <span data-bind="text: fullName"></span></p>
<p>First Name: <input data-bind="value: firstName" /></p>
<p>Last Name: <input data-bind="value: lastName" /></p>

<h2>Friends</h2>
<div data-bind="template: 'friendsTemplate'"></div>

<script id="friendsTemplate" type="text/html">
<ul>
{{each(index, friend) friends}}
<li>${ friend.name }</li>
{{/each}}
</ul>
</script>

<script type="text/javascript">
  function friend(name) {
    return {
      name : ko.observable(name)
    };
  }

  var viewModel = {
    firstName : ko.observable("Bert"),
    lastName : ko.observable("Smith"),
    friends : ko.observableArray([new friend("Steve"), new friend("Annie")])
  };

  viewModel.fullName = ko.dependentObservable(function () {
    return this.firstName() + " " + this.lastName();
  }, viewModel);

  ko.applyBindings(viewModel);
</script>
</body>

</html>

